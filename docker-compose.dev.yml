version: "3"

services:
  chats-db:
    image: postgres
    env_file:
      - .env.dev
    networks:
      - chack-check-network
    volumes:
      - chats-pgdata:/var/lib/postgresql/data
  chats-service:
    build:
      dockerfile: docker/Dockerfile.dev
      context: .
    command: go run ./server.go
    ports:
      - 8001:8001
    env_file:
      - .env.dev
    networks:
      - chack-check-network
    depends_on:
      - chats-db

networks:
  chack-check-network:
    name: chack-check-network
    external: true

volumes:
  chats-pgdata: